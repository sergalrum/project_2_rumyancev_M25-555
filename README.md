## Управление таблицами


### Доступные команды

- **`create_table <имя_таблицы> <столбец1:тип> <столбец2:тип> ...`**  
  Создаёт таблицу с указанными столбцами. Автоматически добавляется первичный ключ `ID:int` в начало списка столбцов.  
  **Пример:**  
  ```
  create_table users name:str age:int is_active:bool
  ```  
  **Результат:**  
  ```
  Таблица "users" успешно создана со столбцами: ID:int, name:str, age:int, is_active:bool
  ```

- **`list_tables`**  
  Выводит список всех существующих таблиц.  
  **Пример:**  
  ```
  list_tables
  ```  
  **Результат (если таблицы есть):**  
  ```
  - users
  - products
  ```  
  **Результат (если таблиц нет):**  
  ```
  Нет созданных таблиц.
  ```

- **`drop_table <имя_таблицы>`**  
  Удаляет указанную таблицу.  
  **Пример:**  
  ```
  drop_table users
  ```  
  **Результат при успехе:**  
  ```
  Таблица "users" успешно удалена.
  ```  
  **Результат при ошибке:**  
  ```
  Ошибка: Таблица "users" не существует.
  ```

- **`help`**  
  Выводит справочную информацию по всем командам.

- **`exit`**  
  Завершает работу программы.

### Поддерживаемые типы данных

- `int` — целое число.  
- `str` — строка текста.  
- `bool` — логическое значение (`True`/`False`).

### Примеры ошибок и их обработка

1. **Попытка создать таблицу с уже существующим именем:**  
   ```
   create_table users name:str
   ```  
   →  
   ```
   Ошибка: Таблица "users" уже существует.
   ```

2. **Некорректный тип данных:**  
   ```
   create_table test col1:float
   ```  
   →  
   ```
   Некорректное значение: col1:float. Поддерживаемые типы: int, str, bool.
   ```

3. **Недостаточное количество аргументов:**  
   ```
   create_table
   ```  
   →  
   ```
   Некорректное значение: недостаточно аргументов. Пример: create_table users name:str age:int
   ```

4. **Неизвестная команда:**  
   ```
   unknown_command
   ```  
   →  
   ```
   Функции "unknown_command" нет. Попробуйте снова.
   ```

### Пример полного сеанса работы

```
>>> database
DB project is running!
>>> Введите команду: create_table users name:str age:int
Таблица "users" успешно создана со столбцами: ID:int, name:str, age:int
>>> Введите команду: list_tables
- users
>>> Введите команду: create_table users name:str
Ошибка: Таблица "users" уже существует.
>>> Введите команду: drop_table users
Таблица "users" успешно удалена.
>>> Введите команду: list_tables
Нет созданных таблиц.
>>> Введите команду: help

***Процесс работы с таблицей***
Функции:
<command> create_table <имя_таблицы> <столбец1:тип> .. - создать таблицу
<command> list_tables - показать список всех таблиц
<command> drop_table <имя_таблицы> - удалить таблицу

Общие команды:
<command> exit - выход из программы
<command> help - справочная информация

>>> Введите команду: exit
До свидания!
```

## Демонстрация работы

Посмотреть интерактивную демонстрацию работы программы можно по ссылке:  
[![Демонстрация работы](https://asciinema.org/a/ioRNABqdMw6oGbtuDTsQb6UmM.svg)](https://asciinema.org/a/ioRNABqdMw6oGbtuDTsQb6UmM)



> **Примечание:**  
> - Все данные (метаинформация о таблицах) сохраняются в файл `db_meta.json` в корне проекта.  
> - Этот файл **не включается в репозиторий** (добавлен в `.gitignore`).  
> - Для запуска программы используйте команду `database` (или `project`, если изменено в `pyproject.toml`).

```
3. Адаптируем модуль “База данных”
```

## CRUD‑операции

### Доступные команды

1. **`insert into <имя_таблицы> values (<значение1>, <значение2>, ...)`**  
   Создаёт новую запись в таблице. Столбец `ID` генерируется автоматически.  
   **Пример:**  
   ```
   insert into users values ("Sergey", 25, true)
   ```  
   **Результат:**  
   ```
   Запись с ID=1 успешно добавлена в таблицу "users".
   ```

2. **`select from <имя_таблицы> [where <столбец> = <значение>]`**  
   - Без условия `where` — выводит все записи.  
   - С условием `where` — фильтрует записи по указанному критерию.  
   **Примеры:**  
   ```
   select from users
   ```  
   ```
   select from users where age = 25
   ```  
   **Результат (с форматированием PrettyTable):**  
   ```
   +----+--------+-----+-----------+
   | ID | name   | age | is_active |
   +----+--------+-----+-----------+
   | 1  | Sergey | 28  | True      |
   +----+--------+-----+-----------+
   ```

3. **`update <имя_таблицы> set <столбец1> = <новое_значение1> where <столбец_условия> = <значение_условия>`**  
   Обновляет записи, соответствующие условию.  
   **Пример:**  
   ```
   update users set age = 29 where name = "Sergey"
   ```  
   **Результат:**  
   ```
   Записи с условием {'name': 'Sergey'} успешно обновлены.
   ```

4. **`delete from <имя_таблицы> where <столбец> = <значение>`**  
   Удаляет записи, соответствующие условию.  
   **Пример:**  
   ```
   delete from users where ID = 1
   ```  
   **Результат:**  
   ```
   Удалено 1 записей по условию {'ID': '1'}.
   ```

5. **`info <имя_таблицы>`**  
   Выводит информацию о структуре и количестве записей в таблице.  
   **Пример:**  
   ```
   info users
   ```  
   **Результат:**  
   ```
   Таблица: users
   Столбцы: ID:int, name:str, age:int, is_active:bool
   Количество записей: 1
   ```

6. **`exit`**  
   Завершает работу программы.

7. **`help`**  
   Показывает справочную информацию по всем командам.

### Правила ввода данных

- **Строковые значения** должны быть в кавычках: `"Sergey"`.  
- **Логические значения** вводятся как `true`/`false` (без кавычек).  
- **Числа** вводятся без кавычек: `25`.  
- В команде `insert` **не указывайте `ID`** — он генерируется автоматически.  
- Количество значений в `insert` должно соответствовать числу столбцов таблицы (без учёта `ID`).

### Пример полного сеанса работы

```
>>> insert into users values ("Sergey", 25, true)
Запись с ID=1 успешно добавлена в таблицу "users".

>>> select from users
+----+--------+-----+-----------+
| ID | name   | age | is_active |
+----+--------+-----+-----------+
| 1  | Sergey | 25  | True      |
+----+--------+-----+-----------+

>>> update users set age = 29 where name = "Sergei"
Записи с условием {'name': 'Sergei'} успешно обновлены.

>>> delete from users where ID = 1
Удалено 1 записей по условию {'ID': '1'}.

>>> info users
Таблица: users
Столбцы: ID:int, name:str, age:int, is_active:bool
Количество записей: 0

>>> exit
Завершение работы.
```

### Хранение данных

- Данные каждой таблицы сохраняются в отдельном файле `data/<имя_таблицы>.json`.  
- Метаданные о структуре таблиц хранятся в `db_meta.json` (исключён из Git через `.gitignore`).  
- Директория `data/` должна присутствовать в корне проекта.


### Демонстрация работы

Посмотреть интерактивную запись сеанса с CRUD‑операциями можно по ссылке:  
```[![Демонстрация CRUD](https://asciinema.org/a/erqz0SyzdMGPQONnHFGUdw4gO.svg)](https://asciinema.org/a/erqz0SyzdMGPQONnHFGUdw4gO)
```

```

**Что это даёт:**
- Полное описание всех команд с примерами.  
- Чёткие правила ввода данных (кавычки, типы).  
- Пример реального сеанса работы.  
- Информация о хранении данных (важно для понимания архитектуры).  
- Интерактивная демонстрация через asciinema.
